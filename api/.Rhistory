install.packages(c("plumber","tidyverse","DBI","RMariaDB","jsonlite","config","jose","plotly","RCurl","stringdist","xlsx","pool"))
install.packages(c("plumber","tidyverse","DBI","RMariaDB","jsonlite","config","jose","plotly","RCurl","stringdist","xlsx","pool"))
install.packages("PurBayes")
library("PurBayes")
library("PurBayes")
####numeric vector of total reads for each somatic mutation from the tumor tissue NGS data
N3004301 <- c(1135,703,1042,532,1076,616,367,647,349,149,655)
####numeric vector of mutant allele supporting read counts for each somatic mutation from the tumor tissue NGS data
Y3004301 <- c(459,279,215,98,194,112,66,111,67,22,60)
PB.tsc3004301<-PurBayes(N3004301,Y3004301)
summary(PB.tsc3004301)
library("PurBayes")
####numeric vector of total reads for each somatic mutation from the tumor tissue NGS data
N3004301 <- c(1042,532,1076,616,367,647,349,149,655)
####numeric vector of mutant allele supporting read counts for each somatic mutation from the tumor tissue NGS data
Y3004301 <- c(215,98,194,112,66,111,67,22,60)
PB.tsc3004301<-PurBayes(N3004301,Y3004301)
summary(PB.tsc3004301)
library("PurBayes")
####numeric vector of total reads for each somatic mutation from the tumor tissue NGS data
N3004301 <- c(1042,532,1076,616,367,647,349,149)
####numeric vector of mutant allele supporting read counts for each somatic mutation from the tumor tissue NGS data
Y3004301 <- c(215,98,194,112,66,111,67,22)
PB.tsc3004301<-PurBayes(N3004301,Y3004301)
summary(PB.tsc3004301)
library("PurBayes")
####numeric vector of total reads for each somatic mutation from the tumor tissue NGS data
N3004301 <- c(1042,532,1076,616,367,647,349,149)
####numeric vector of mutant allele supporting read counts for each somatic mutation from the tumor tissue NGS data
Y3004301 <- c(215,98,194,112,66,111,67,22)
PB.tsc3004301<-PurBayes(N3004301,Y3004301)
summary(PB.tsc3004301)
# sysndd_plumber.R
## to do: adapt "serializer json list(na="null")"
## to do: add pool library for connection managment
##-------------------------------------------------------------------##
# load libraries
library(plumber)
library(tidyverse)
library(DBI)
library(RMariaDB)
library(jsonlite)
library(config)
library(jose)
library(plotly)
library(RCurl)
library(stringdist)
library(xlsx)
library(easyPubMed)
library(rvest)
library(lubridate)
library(pool)
library(memoise)
library(coop)
##-------------------------------------------------------------------##
##-------------------------------------------------------------------##
dw <- config::get("sysndd_db_local")
##-------------------------------------------------------------------##
##-------------------------------------------------------------------##
pool <- dbPool(
drv = RMariaDB::MariaDB(),
dbname = dw$dbname,
host = dw$host,
user = dw$user,
password = dw$password,
server = dw$server,
port = dw$port
)
##-------------------------------------------------------------------##
fromJSON('{"entity":2,"synopsis":null,"literature":{"additional_references":[],"gene_review":["PMID:20301486"]},"phenotypes":{"phenotype_id":[],"modifier_id":[]},"comment":"test%20test"}')
review_data <- fromJSON('{"entity":2,"synopsis":null,"literature":{"additional_references":[],"gene_review":["PMID:20301486"]},"phenotypes":{"phenotype_id":[],"modifier_id":[]},"comment":"test%20test"}')
sysnopsis_received <- as_tibble(review_data$synopsis) %>%
add_column(review_data$entity) %>%
add_column(review_data$comment) %>%
add_column(review_user_id) %>%
select(entity_id = `review_data$entity`, synopsis = value, review_user_id, comment = `review_data$comment`)
review_user_id <- 1
sysnopsis_received <- as_tibble(review_data$synopsis) %>%
add_column(review_data$entity) %>%
add_column(review_data$comment) %>%
add_column(review_user_id) %>%
select(entity_id = `review_data$entity`, synopsis = value, review_user_id, comment = `review_data$comment`)
as_tibble(review_data$synopsis) %>%
add_column(review_data$entity) %>%
add_column(review_data$comment)
View(as_tibble(review_data$synopsis) %>%
add_column(review_data$entity) %>%
add_column(review_data$comment))
review_data$synopsis
as_tibble(review_data$synopsis) %>%
add_column(review_data$entity) %>%
add_column(review_data$comment)
review_data
review_data$comment
review_data <- fromJSON('{"entity":2,"synopsis":"null","literature":{"additional_references":[],"gene_review":["PMID:20301486"]},"phenotypes":{"phenotype_id":[],"modifier_id":[]},"comment":"test%20test"}')
as_tibble(review_data$synopsis) %>%
add_column(review_data$entity) %>%
add_column(review_data$comment)
############################################
## load libraries
library(googlesheets4)	##needed as interface to google sheets
library(easyPubMed)		##needed for pubmed queries
library(readxl)
library(Rmisc)
library(ggrepel)
library(cowplot)
library(tidyverse)		##needed for general table operations
library(plumber)
setwd("C:/development/HNF1B-db/api")
root <- pr("hnf1b-db_plumber.R") %>%
pr_run(host = "0.0.0.0", port = 7779) %>%
pr_hook("exit", function(){ poolClose(pool) })
library(plumber)
setwd("C:/development/HNF1B-db/api")
root <- pr("hnf1b-db_plumber.R") %>%
pr_run(host = "0.0.0.0", port = 7779) %>%
pr_hook("exit", function(){ poolClose(pool) })
library(plumber)
setwd("C:/development/HNF1B-db/api")
root <- pr("hnf1b-db_plumber.R") %>%
pr_run(host = "0.0.0.0", port = 7779) %>%
pr_hook("exit", function(){ poolClose(pool) })
library(plumber)
setwd("C:/development/HNF1B-db/api")
root <- pr("hnf1b-db_plumber.R") %>%
pr_run(host = "0.0.0.0", port = 7779) %>%
pr_hook("exit", function(){ poolClose(pool) })
library(plumber)
setwd("C:/development/HNF1B-db/api")
root <- pr("hnf1b-db_plumber.R") %>%
pr_run(host = "0.0.0.0", port = 7779) %>%
pr_hook("exit", function(){ poolClose(pool) })
library(plumber)
setwd("C:/development/HNF1B-db/api")
root <- pr("hnf1b-db_plumber.R") %>%
pr_run(host = "0.0.0.0", port = 7779) %>%
pr_hook("exit", function(){ poolClose(pool) })
library(plumber)
setwd("C:/development/HNF1B-db/api")
root <- pr("hnf1b-db_plumber.R") %>%
pr_run(host = "0.0.0.0", port = 7779) %>%
pr_hook("exit", function(){ poolClose(pool) })
